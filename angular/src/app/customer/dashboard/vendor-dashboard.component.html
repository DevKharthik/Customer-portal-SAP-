<div class="dashboard-container with-sidebar">
  <aside class="sidebar">
    <div class="sidebar-logo">
      <a href="https://www.kaartech.com/career/" target="_blank" class="logo-link">
        <img src="https://www.kaartech.com/wp-content/uploads/2024/09/Non-Text-Magic-Studio-Magic-Design-for-Presentations-LampP-5.png" alt="Logo" class="sidebar-logo-img" />
      </a>
      <span class="sidebar-logo-text">KaarTech</span>
    </div>
    <nav class="sidebar-nav">
      <ul>
        <li class="nav-item" (click)="showSection('dashboard')">
          <span><i class="fas fa-tachometer-alt"></i> Dashboard</span>
        </li>
        <li class="nav-item" (click)="showSection('finance')">
          <span><i class="fas fa-coins"></i> Finance</span>
        </li>
        <li class="nav-item" (click)="navigateToProfile()">
          <span><i class="fas fa-user"></i> Profile</span>
        </li>
      </ul>
    </nav>
  </aside>
  <div class="dashboard-main-content">
    <header class="dashboard-header">
      <div class="header-content">
        <div class="header-left">
          <div class="title-text">
            <h1>Customer Portal</h1>
            <p>Welcome back, {{ vendorName }} ({{ vendorId }})</p>
          </div>
        </div>
        <div class="header-right">
          <button class="profile-button" (click)="navigateToProfile()">Profile</button>
          <button class="logout-button" (click)="onLogout()">Logout</button>
        </div>
      </div>
    </header>
    <main class="dashboard-main">
      <div class="dashboard-content">
        <div class="section-header">
          <div class="section-header-content">
            <h2 *ngIf="currentSection === 'dashboard'">Dashboard</h2>
            <h2 *ngIf="currentSection === 'finance'">Finance</h2>
          </div>
        </div>
        <div class="loading-container" *ngIf="isLoading">
          <div class="spinner"></div>
          <p>Loading dashboard...</p>
        </div>
        <div class="tiles-grid" *ngIf="!isLoading">
          <!-- Dashboard Cards -->
          <ng-container *ngIf="currentSection === 'dashboard'">
            <div class="tile-card" (click)="navigateTo('salesorder')">
              <div class="tile-content">
                <div class="tile-icon"><i class="fas fa-file-alt"></i></div>
                <h3>Sales Order</h3>
                <div class="tile-action">View Details</div>
              </div>
            </div>
            <div class="tile-card" (click)="navigateTo('salesdelivery')">
              <div class="tile-content">
                <div class="tile-icon"><i class="fas fa-shopping-cart"></i></div>
                <h3>Sales Delivery</h3>
                <div class="tile-action">View Details</div>
              </div>
            </div>
            <div class="tile-card" (click)="navigateTo('inquiry')">
              <div class="tile-content">
                <div class="tile-icon"><i class="fas fa-search"></i></div>
                <h3>Inquiry</h3>
                <div class="tile-action">View Details</div>
              </div>
            </div>
          </ng-container>
          <!-- Finance Cards -->
          <ng-container *ngIf="currentSection === 'finance'">
            <div class="tiles-grid finance-grid">
              <div class="tile-card" (click)="navigateTo('inv')">
                <div class="tile-content">
                  <div class="tile-icon"><i class="fas fa-receipt"></i></div>
                  <h3>Invoice</h3>
                  <div class="tile-action">View Details</div>
                </div>
              </div>
              <div class="tile-card" (click)="navigateTo('memo')">
                <div class="tile-content">
                  <div class="tile-icon"><i class="fas fa-sticky-note"></i></div>
                  <h3>Memo</h3>
                  <div class="tile-action">View Details</div>
                </div>
              </div>
              <div class="tile-card" (click)="navigateTo('pay')">
                <div class="tile-content">
                  <div class="tile-icon"><i class="fas fa-credit-card"></i></div>
                  <h3>Payment</h3>
                  <div class="tile-action">View Details</div>
                </div>
              </div>
              <div class="tile-card" (click)="navigateTo('overallsales')">
                <div class="tile-content">
                  <div class="tile-icon"><i class="fas fa-chart-pie"></i></div>
                  <h3>Overall Sales</h3>
                  <div class="tile-action">View Details</div>
                </div>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
    </main>
  </div>
</div>
